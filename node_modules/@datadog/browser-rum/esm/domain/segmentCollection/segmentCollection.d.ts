import type { EventEmitter } from '@datadog/browser-core';
import type { LifeCycle, ViewContexts, RumSessionManager } from '@datadog/browser-rum-core';
import type { Record, SegmentContext, SegmentMetadata } from '../../types';
import type { DeflateWorker } from './deflateWorker';
export declare const MAX_SEGMENT_DURATION = 30000;
export declare function startSegmentCollection(lifeCycle: LifeCycle, applicationId: string, sessionManager: RumSessionManager, viewContexts: ViewContexts, send: (data: Uint8Array, metadata: SegmentMetadata, rawSegmentSize: number, flushReason?: string) => void, worker: DeflateWorker): {
    addRecord: (record: Record) => void;
    stop: () => void;
};
export declare function doStartSegmentCollection(lifeCycle: LifeCycle, getSegmentContext: () => SegmentContext | undefined, send: (data: Uint8Array, metadata: SegmentMetadata, rawSegmentSize: number, flushReason?: string) => void, worker: DeflateWorker, emitter?: EventEmitter): {
    addRecord: (record: Record) => void;
    stop: () => void;
};
export declare function computeSegmentContext(applicationId: string, sessionManager: RumSessionManager, viewContexts: ViewContexts): {
    application: {
        id: string;
    };
    session: {
        id: string;
    };
    view: {
        id: string;
    };
} | undefined;
export declare function setMaxSegmentSize(newSize?: number): void;
